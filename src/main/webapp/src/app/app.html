<header class="header">
  <div class="logo">
    <a routerLink="/" class="logo-link">
      <h1>StaffPlan</h1>
    </a>
  </div>
  <nav class="nav">
    @if (securityStore.isLoading()) {
      <span>Loading...</span>
    } @else if (securityStore.user()) {
      <a routerLink="/positions" routerLinkActive="active" class="nav-link">Positions</a>
      <span class="user-info">
        {{ securityStore.user()?.firstName }} {{ securityStore.user()?.lastName }}
        @if (securityStore.user()?.roles?.length) {
          <span class="role-badges">
            @for (role of securityStore.user()?.roles; track role) {
              <span class="role-badge">{{ role }}</span>
            }
          </span>
        }
      </span>
      <button class="btn btn-outline" (click)="securityStore.signOut()">Logout</button>
    } @else {
      <button class="btn btn-primary" (click)="securityStore.signIn()">Login</button>
    }
  </nav>
</header>

<main class="main">
  <router-outlet />
</main>
